<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>幻空轩</title><link href="http://www.joshuazhang.info/" rel="alternate"></link><link href="http://www.joshuazhang.info/feeds/programming.atom.xml" rel="self"></link><id>http://www.joshuazhang.info/</id><updated>2013-04-07T15:38:00+02:00</updated><entry><title>El-get——emacs包管理利器</title><link href="http://www.joshuazhang.info/posts/2013/Apr/el-get-intro.html" rel="alternate"></link><updated>2013-04-07T15:38:00+02:00</updated><author><name>voidmous</name></author><id>tag:www.joshuazhang.info,2013-04-07:posts/2013/Apr/el-get-intro.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#el-get-vs-elpa"&gt;El-get vs ELPA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#el-get"&gt;安装el-get&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#el-get_1"&gt;配置el-get&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#github"&gt;Github同步&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_1"&gt;参考文章&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="el-get-vs-elpa"&gt;El-get vs ELPA&lt;/h2&gt;
&lt;p&gt;Emacs24已经集成了&lt;code&gt;package.el&lt;/code&gt;，可以安装多个源下的宏包。不过El-get宣称支持多种安装方式，ELPA方法只是其中一种。从我使用的情况来看，el-get似乎速度更快。另外，el-get安装的包不再需要手动&lt;code&gt;(require 'somepackage)&lt;/code&gt;，它会自动管理所有安装包的加载和初始化，当然配置还是需要的，不过这已经方便不少了。我个人ELPA用得较少，就不比较了，有时间再把两者比较一下。&lt;/p&gt;
&lt;h2 id="el-get"&gt;安装el-get&lt;/h2&gt;
&lt;p&gt;el-get现在处于活跃的开发阶段，因此推荐使用更新维护更活跃的&lt;code&gt;master branch&lt;/code&gt;，安装只需要把如下命令拷贝到emacs的&lt;code&gt;*scrach*&lt;/code&gt;buffer，然后&lt;code&gt;C-j&lt;/code&gt;或者&lt;code&gt;M-x eval-print-last-exp&lt;/code&gt;运行，el-get就会自动下载安装了。&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;;; So the idea is that you copy/paste this code into your *scratch* buffer,&lt;/span&gt;
&lt;span class="c1"&gt;;; hit C-j, and you have a working developper edition of el-get.&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;url-retrieve&lt;/span&gt;
 &lt;span class="s"&gt;&amp;quot;https://raw.github.com/dimitri/el-get/master/el-get-install.el&amp;quot;&lt;/span&gt;
 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;el-get-master-branch&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;goto-char&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;point-max&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;eval-print-last-sexp&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;安装完毕，如果要手动安装package，可以&lt;code&gt;M-x el-get-install RET packagename&lt;/code&gt;，喝口茶的功夫估计就好啦。&lt;/p&gt;
&lt;h2 id="el-get_1"&gt;配置el-get&lt;/h2&gt;
&lt;p&gt;将下列代码加入配置文件，emacs每次启动时就会检查el-get是否已经安装，未安装则自动下载安装。&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;load-path&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;~/.emacs.d/el-get/el-get&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;unless&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;el-get&lt;/span&gt; &lt;span class="nv"&gt;nil&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;noerror&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;with-current-buffer&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;url-retrieve-synchronously&lt;/span&gt;
       &lt;span class="s"&gt;&amp;quot;https://raw.github.com/dimitri/el-get/master/el-get-install.el&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;el-get-master-branch&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;goto-char&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;point-max&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;eval-print-last-sexp&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;el-get&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;sync&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;想要自动检测并安装需要的宏包，可以使用下面这段代码：&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;my-el-get-packages&lt;/span&gt;
&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="nv"&gt;el-get&lt;/span&gt;
    &lt;span class="nv"&gt;auto-complete&lt;/span&gt;
    &lt;span class="nv"&gt;yasnippet&lt;/span&gt;
    &lt;span class="nv"&gt;auctex&lt;/span&gt;
    &lt;span class="nv"&gt;emacs-w3m&lt;/span&gt;
    &lt;span class="nv"&gt;markdown-mode&lt;/span&gt;
    &lt;span class="nv"&gt;color-theme&lt;/span&gt;
    &lt;span class="c1"&gt;;; Any package you like))&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;el-get&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;sync&lt;/span&gt; &lt;span class="nv"&gt;my-el-get-packages&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="github"&gt;Github同步&lt;/h2&gt;
&lt;p&gt;如果想要在不同电脑上共享同样的emacs配置，那么你可以选择dropbox或者更开放的github同步。为了便于git的管理，需要把所有配置文件都放到&lt;code&gt;.emacs.d&lt;/code&gt;目录下，这样只需要&lt;code&gt;ln -s&lt;/code&gt;把该目录链接到用户主目录即可。如果你使用&lt;code&gt;.emacs&lt;/code&gt;配置文件，那么可以把它原封不动地迁徙一下即可：&lt;code&gt;mv .emacs .emacs.d/init.el&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id="_1"&gt;参考文章&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/dimitri/el-get"&gt;el-get@Github&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;&lt;a href="http://batsov.com/articles/2012/02/19/package-management-in-emacs-the-good-the-bad-and-the-ugly/"&gt;Package Management in Emacs: The Good, the Bad and the Ugly&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://emacser.com/el-get.htm"&gt;GNU Emacs的终极扩展管理工具 — el-get&lt;/a&gt; &lt;/p&gt;</summary><category term="el-get"></category><category term="emacs"></category></entry></feed>